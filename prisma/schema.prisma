datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "../generated"
}

enum LineId {
  l1
  l2
  l3
  l4
  l4a
  l5
  l6
}

model MetroStatusMessage {
  message_id String @id
  line_id    LineId
  info_hash  String

  // Relación a metro_status_updaters
  metro_status_updater    MetroStatusUpdater @relation(fields: [metro_status_updater_guild_id], references: [guild_id])
  metro_status_updater_guild_id String

  @@map("metro_status_messages")
}

model MetroStatusUpdater {
  guild_id   String @id
  channel_id String @unique

  // Relación a metro_status_messages
  metroStatusMessages MetroStatusMessage[]

  @@map("metro_status_updaters")
}
